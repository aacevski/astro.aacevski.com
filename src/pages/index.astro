---
import BaseHead from '../components/base-head.astro'
import Hero from '../components/hero.astro'
import Projects from '../components/projects.astro'
import { SITE_DESCRIPTION, SITE_TITLE } from '../consts'
import MainLayout from '../layouts/main-layout.astro'

const response = await fetch('https://www.affirmations.dev/')
const data = await response.json()
let affirmation = data.affirmation

if (affirmation.length > 50) {
  const response = await fetch('https://www.affirmations.dev/')
  const data = await response.json()
  affirmation = data.affirmation
}
---

<!doctype html>
<html lang='en' class='dark'>
  <head>
    <BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
  </head>
  <body>
    <MainLayout>
      <Hero />
      <Projects />
    </MainLayout>
  </body>
</html>
